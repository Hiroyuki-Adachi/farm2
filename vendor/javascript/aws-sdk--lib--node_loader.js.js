import"aws-sdk/lib/node_loader.js";import e,{__dew as r}from"aws-sdk/lib/core.js";import"../_/d8186e42.js";import"process";import"../_/e72a3f73.js";import"fs";import"../apis/metadata.json.js";import"uuid";import{d as t}from"../_/25af3ce5.js";import"../_/d710bc34.js";import{d as a}from"../_/b9671cbd.js";import{d as n,a as o}from"../_/ad21f04e.js";import"../_/a632c903.js";import s from"buffer";import{d as m,a as i,b as l}from"../_/4d194713.js";import u from"url";import p from"querystring";import{d,a as f,b as c,c as v,e as w}from"../_/54dca7ec.js";import{d as y}from"../_/a2805af8.js";import"events";var b={},E=false;function dew(){if(E)return b;E=true;var e=t();var r=a();function DomXmlParser(){}DomXmlParser.prototype.parse=function(r,t){if(""===r.replace(/^\s+/,""))return{};var a,n;try{if(window.DOMParser){try{var o=new DOMParser;a=o.parseFromString(r,"text/xml")}catch(r){throw e.error(new Error("Parse error in document"),{originalError:r,code:"XMLParserError",retryable:true})}if(null===a.documentElement)throw e.error(new Error("Cannot parse empty document."),{code:"XMLParserError",retryable:true});var s=a.getElementsByTagName("parsererror")[0];if(s&&(s.parentNode===a||"body"===s.parentNode.nodeName||s.parentNode.parentNode===a||"body"===s.parentNode.parentNode.nodeName)){var m=s.getElementsByTagName("div")[0]||s;throw e.error(new Error(m.textContent||"Parser error in document"),{code:"XMLParserError",retryable:true})}}else{if(!window.ActiveXObject)throw new Error("Cannot load XML parser");a=new window.ActiveXObject("Microsoft.XMLDOM");a.async=false;if(!a.loadXML(r))throw e.error(new Error("Parse error in document"),{code:"XMLParserError",retryable:true})}}catch(e){n=e}if(a&&a.documentElement&&!n){var i=parseXml(a.documentElement,t);var l=getElementByTagName(a.documentElement,"ResponseMetadata");l&&(i.ResponseMetadata=parseXml(l,{}));return i}if(n)throw e.error(n||new Error,{code:"XMLParserError",retryable:true});return{}};function getElementByTagName(e,r){var t=e.getElementsByTagName(r);for(var a=0,n=t.length;a<n;a++)if(t[a].parentNode===e)return t[a]}function parseXml(e,r){r||(r={});switch(r.type){case"structure":return parseStructure(e,r);case"map":return parseMap(e,r);case"list":return parseList(e,r);case void 0:case null:return parseUnknown(e);default:return parseScalar(e,r)}}function parseStructure(r,t){var a={};if(null===r)return a;e.each(t.members,(function(e,n){if(n.isXmlAttribute){if(Object.prototype.hasOwnProperty.call(r.attributes,n.name)){var o=r.attributes[n.name].value;a[e]=parseXml({textContent:o},n)}}else{var s=n.flattened?r:getElementByTagName(r,n.name);s?a[e]=parseXml(s,n):n.flattened||"list"!==n.type||t.api.xmlNoDefaultLists||(a[e]=n.defaultValue)}}));return a}function parseMap(e,r){var t={};var a=r.key.name||"key";var n=r.value.name||"value";var o=r.flattened?r.name:"entry";var s=e.firstElementChild;while(s){if(s.nodeName===o){var m=getElementByTagName(s,a).textContent;var i=getElementByTagName(s,n);t[m]=parseXml(i,r.value)}s=s.nextElementSibling}return t}function parseList(e,r){var t=[];var a=r.flattened?r.name:r.member.name||"member";var n=e.firstElementChild;while(n){n.nodeName===a&&t.push(parseXml(n,r.member));n=n.nextElementSibling}return t}function parseScalar(e,t){if(e.getAttribute){var a=e.getAttribute("encoding");"base64"===a&&(t=new r.create({type:a}))}var n=e.textContent;""===n&&(n=null);return"function"===typeof t.toType?t.toType(n):n}function parseUnknown(e){if(void 0===e||null===e)return"";if(!e.firstElementChild)return null===e.parentNode.parentNode?{}:0===e.childNodes.length?"":e.textContent;var r={type:"structure",members:{}};var t=e.firstElementChild;while(t){var a=t.nodeName;Object.prototype.hasOwnProperty.call(r.members,a)?r.members[a].type="list":r.members[a]={name:a};t=t.nextElementSibling}return parseStructure(e,r)}b=DomXmlParser;return b}var g={},N=false;function dew$1(){if(N)return g;N=true;var a=t();a.crypto.lib=m();a.Buffer=s.Buffer;a.url=u;a.querystring=p;a.realClock=i();a.environment="js";a.createEventStream=d().createEventStream;a.isBrowser=function(){return true};a.isNode=function(){return false};var b=r?r():e;g=b;n();o();f();c();v();y();w();b.XML.Parser=dew();l();if("undefined"===typeof E)var E={browser:true};return g}var h=dew$1();export default h;export{dew$1 as __dew};

