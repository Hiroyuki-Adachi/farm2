<%= form_with url: task_description_path(task), method: :patch,
              data: { turbo_frame: dom_id(task, :description), controller: "markdown-preview" } do |f| %>
  <div class="row g-2">
    <div class="col-md-6">
      <%= text_area_tag :description, task.description, rows: 10,
            class: "form-control",
            data: { "markdown-preview-target": "input", action: "input->markdown-preview#update" } %>
    </div>
    <div class="col-md-6">
      <div class="border rounded p-2">
        <div class="small text-muted mb-2">プレビュー</div>
        <div data-markdown-preview-target="preview"></div>
      </div>
    </div>
  </div>
  <div class="mt-2 d-flex gap-2">
    <button class="btn btn-primary btn-sm">保存</button>
    <a href="#" class="btn btn-outline-secondary btn-sm" data-action="click->toggle#hide" data-target="<%= dom_id(task, :description_form) %>">閉じる</a>
  </div>
<% end %>
<% content_for :head do %>
<%= javascript_include_tag 'pages/tasks', 'data-turbo-track': 'reload', type: :module %>
<% end %>
